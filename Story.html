<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Visa Game</title>
    <style>
        body{
            background-color : white;
        }
        main{
            margin-left: 20%;
            margin-right: 20%;
            padding: 10px;
            background-color: black;
            border: 1px solid;
        }
        select{
            font-family: "Courier New";
            font-size: 20px;
        }
        option{
            font-size: 20px;
            font-family: "Courier New";
        }
        .cont{
            text-align: center;
        }
        .cont_q{
            display: flex;
            text-align: center;
            flex-direction: column;
            margin-left: 30%;
            margin-right: 30%;
        }
        .quest{
            font-family: "Snell Roundhand";
            font-size: 15px;
        }
        .manusc{
            font-family: "Snell Roundhand";
            font-size: 15px;
            color:darkblue;
            background-color: bisque;
            padding: 5px;
        }
        #logo{
            font-family: "Courier New";
            font-size: 50px;
            color : black;
            margin-left: auto;
            margin-right: auto;
        }
        #desc{
            margin-left: 20%;
            margin-right: 20%;
            font-family: "Courier New";
            font-size: 20px;
            padding: 10px;
            border: 1px solid;
        }
        #letter{
            font-family: "Snell Roundhand";
            font-size: 20px;
            color:darkblue;
            background-color: bisque;
            width: 60%;
            height:40%;
            margin:10px;
        }
        #context{
            font-family: "Courier New";
            font-size: 20px;
            color:white
        }
        #lettre_t{
            font-family: "Courier New";
            font-size: 20px;
            color:white;

        }
        #titre{
            font-family: "Courier New";
            font-size: 40px;
            color:white;
        }
        #burndes{
            font-family: "Courier New";
            font-size: 20px;
            color:white;
        }
        #burntit{
            font-size: 50px;
            font-family: "Courier New";
            color:white;
        }
        #test{
            border : solid black 1px;
            margin-right: 20%;
            margin-left: 20%;
            align-content: center;
            background-color: antiquewhite;
        }
        #test_des{
            font-family: "Courier New";
            font-size: 30px;
            color:black;
        }
        #test_texte{
            margin-left: 20%;
            margin-right: 20%;
            font-family: "Courier New ";
            font-size: 20px;
            color:black;
        }
    </style>
</head>
    <header>
        <div class="cont"><h1 id="logo">Game of Visa</h1></div>
        <p id="desc">Après avoir travaillé durement pendant 30 ans en tant que secrétaire au sein d'un cabinet d'avocat,
            vous n'en pouvez plus de faire de la paperasse. Votre salut ? Un séjour sur l'ile paradisiaque de Onéchyan,
            absolument magnifique mais réputée quasi-inaccessible à cause de procédures administratives trop complexes.
            Triompherez vous de ce dictat bureaucrate ? Eviterez-vous le burnout ? C'est à vous de jouer.
        </p>
    </header>
    <main>
        <div class="cont" id="story">
            <div class="cont"><h2 id="titre"></h2></div>
            <p id="context"></p>
            <select name="Action" id="actSel">
                <option id="op1" value="o1"></option>
                <option id="op2" value="o2"></option>
                <option id="op3" value="o3"></option>
            </select>
            <button onclick="valider()">Valider</button>
        </div>
        <div class="cont" id="lettre">
            <p id="lettre_t">Vous vous saisissez de votre plus joli papier d'écriture et entammez la rédaction de votre lettre</p>
            <textarea id="letter">Sa majesté l'Ambassadeur,</textarea>
            <button onclick="apply('bVotre lettre ne sera jamais retournée. Il ne vous reste plus qu\'à reprendre le travail');">Envoyer</button>
        </div>
        <div class="cont" id="burnout">
            <p id="burndes"></p>
            <h2 id="burntit">BURNOUT</h2>
            <button id="burnbut" onclick="apply('0');">Réessayer</button>
        </div>

    </main>
    <div class="cont" id="test_cont">
    <h2 id="test_des">Examen écrit pour demandeur de visa</h2>
    <p id="test_texte">Veuillez répondre aux questions suivantes durant le temps imparti. Elles conditionneront énormément l'obtention de votre visa. Ne répondez qui si vous êtes certains de vous</p>
    <button id="testbut" onclick="apply('0');">Commencer</button>
    <form id="questionnaire">
        <div id="test">
            <div class="cont_q">
                <label class="quest" for="name">Noms, Prénoms</label><input type="text" id="name" placeholder="Ecrivez ici" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="pass" >Votre code de dossier</label><input type="text" id="pass" placeholder="ex. AAAAAAAAAAAA" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="bd">Date de naissance</label><input type="date" id="bd" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="mbd">Date de naissance du Lord Supreme Mousseline 12</label><input type="date" id="mbd" class="manusc">
            </div>
            <div class="cont">
                <label class="quest" for="color">Couleur préférée du Lord Supreme Mousseline 12</label> <input type="color" id="color" class="manusc">
            </div>
            <div class="cont_q">
                <p class="quest">Parmi ces propositions, cochez ce que vous appréciez</p>
                <div><label class="quest" for="prop1">Les andives</label><input type="checkbox" id="prop1"></div>
                <div><label class="quest" for="prop2">Les sardines</label><input type="checkbox" id="prop2"></div>
                <div><label class="quest" for="prop3">Les sorbets a la peche</label><input type="checkbox" id="prop3"></div>
                <div> <label class="quest" for="prop4">Les sorbets a la myrtille</label><input type="checkbox" id="prop4"></div>
                <div><label class="quest" for="prop5">Les fondues au chocolat</label><input type="checkbox" id="prop5"></div>
                <div><label class="quest" for="prop6">Les guimauves</label><input type="checkbox" id="prop6"></div>
                <div><label class="quest" for="prop7">Le caviar</label><input type="checkbox" id="prop7"></div>
                <div><label class="quest" for="prop8">Les cotes de boeuf</label><input type="checkbox" id="prop8"></div>
                <div><label class="quest" for="prop9">Les haricots verts</label><input type="checkbox" id="prop9"></div>
                <div><label class="quest" for="prop10">Le tocacola</label><input type="checkbox" id="prop10"></div>
                <div><label class="quest" for="prop11">Le moubsi</label><input type="checkbox" id="prop11"></div>
            </div>
            <div class="cont_q">
                <p class="quest">Parmi ces propositions, cochez ce à quoi vous vous identifiez</p>
                <div><label class="quest" for="prop12">Terroriste</label><input type="checkbox" id="prop12"></div>
                <div><label class="quest" for="prop13">Black hat</label><input type="checkbox" id="prop13"></div>
                <div><label class="quest" for="prop14">Criminel</label><input type="checkbox" id="prop14"></div>
                <div><label class="quest" for="prop15">Fan du lord supreme Mousseline 12</label><input type="checkbox" id="prop15"></div>
                <div><label class="quest" for="prop16">Admirateur secret du lord supreme Mousseline 12</label><input type="checkbox" id="prop16"></div>
                <div><label class="quest" for="prop17">Défenseur des """""""droits de l'homme"""""""</label><input type="checkbox" id="prop17"></div>
            </div>
        </div>
    </form>
    </div>

    <script type="text/javascript">
        let action = "0";
        let table = {
            "0" : {
                  "titre" : "Que faire ?",
                "context" : "C'est bien beau d'avoir de l'ambition, mais maintenant, il faut agir. Vous pouvez toujours essayer de vous rendre sur leur SITE WEB complètement cassé. Autre option, vous pouvez tenter de leur écrire une LETTRE. Sinon, plus radical, de vous RENDRE SUR PLACE",
                "o1":{
                      "text":"Se rendre sur le site web",
                      "next":"site"
                },
                "o2":{
                    "text":"Ecrire une lettre",
                    "next":"lettre"
                },
                "o3":{
                    "text":"Vous rendre sur place",
                    "next":"1"
                }},
            "1" : {
                "titre" : "Vous rendre à l'Ambassade",
                "context" : "Vous prenez votre courage à deux mains et décidez de vous rendre sur place. Une fois arrivé devant la porte, un premier obstacle vous fait face : une queue interminable. Que faire en cette situation plus que désagréable ?",
                "o1":{
                    "text":"Faire la queue",
                    "next":"bAprès 43 heure d'attente, vous avez bougé de 5 centimètres. Epuisé, vous abandonnez."
                },
                "o2":{
                    "text":"Essayer de doubler des gens",
                    "next":"2"
                },
                "o3":{
                    "text":"Faire demi-tour",
                    "next":"0"
                }
            },
            "2" : {
                "titre" : "Essayer de doubler",
                "context" : "\"- Excusez moi ! pardon ! J'ai ma cousine germaine devant !\"\nNon sans peine, vous parvenez à vous frayer un chemin et atteignez la porte de l'établissement. Ici déjà, un premier garde vous fait face. Il vous regarde fixement et semble attendre de vous quelque chose.",
                "o1":{
                    "text":"Vous sortez votre passeport",
                    "next":"3"
                },
                "o2":{
                    "text":"Vous lui faite du baisemain",
                    "next":"bBien que flatté, le garde vous dis que ces attentions ne sont réservé qu'au grand et illustre Lord Suprème Mousseline.'Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous "
                },
                "o3":{
                    "text":"Vous lui filez 100 euros",
                    "next":"4"
                }
            },
            "3" : {
                "titre" : "Vous sortez votre passeport",
                "context" : "Le garde saisit votre passeport, l'ouvre à l'envers.\nIl semble être absorbé par la lecture d'une page vide.",
                "o1":{
                    "text":"Vous lui expliquez son erreur",
                    "next":"bLe garde vous dévisage et dit \n'Vous pensez vraiment que je suis débile ? Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous"
                },
                "o2":{
                    "text":"Vous lui faite du baisemain",
                    "next":"bBien que flatté, le garde vous dis que ces attentions ne sont réservé qu'au grand et illustre Lord Suprème Mousseline.'Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous "
                },
                "o3":{
                    "text":"Vous attendez patiemment",
                    "next":"5"
                }
            },
            "4":{
                "titre" : "Vous lui filez 100 euros",
                "context" : "'En temps normal, je vous aurais recalé, mais on est en période de crise.'Le garde prend votre billet et vous fait passer. Entré dans le lobby, il n'y a bien sûr aucune indication. Vous avez devant vous trois voies possibles, une grosse porte blanche, un escalier en colimasson montant à l'étage et un long couloir obscur",
                "o1":{
                    "text":"Porte",
                    "next":"Test"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"0"
                },
                "o3":{
                    "text":"Couloir",
                    "next":"0"
                }
            },
            "5":{
                "titre" : "Vous attendez patiemment",
                "context" : "Le garde continue à scuter votre passeport à une page qui ne semble pas être votre page d'identité",
                "o1":{
                    "text":"Patienter encore",
                    "next":"b'Il est tout cassé vot passeport, revenez avec des documents plus appropriés que ca'. Sans mot à dire, vos faites machine arrière et rentrez chez vous"
                },
                "o2":{
                    "text":"Lui expliquer son erreur",
                    "next":"bLe garde vous dévisage et dit \n'Vous pensez vraiment que je suis débile ? Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous"
                },
                "o3":{
                    "text":"Lui filer 100 euros",
                    "next":"4"
                }
            },
            "6":{
                "titre" : "A l'étage",
                "context" : "",
                "o1":{
                    "text":"Porte",
                    "next":"Test"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"0"
                },
                "o3":{
                    "text":"Faire machine arrière",
                    "next":"8"
                }
            },
            "7":{
                "titre" : "Dans le couloir",
                "context" : "",
                "o1":{
                    "text":"Porte",
                    "next":"Test"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"0"
                },
                "o3":{
                    "text":"Faire machine arrière",
                    "next":"8"
                }
            },
            "8":{
                "titre" : "Dans le hall",
                "context" : "",
                "o1":{
                    "text":"Porte",
                    "next":"Test"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"6"
                },
                "o3":{
                    "text":"Couloir",
                    "next":"7"
                }
            }
        };
        document.getElementById("lettre").style.display = "none";
        document.getElementById("burnout").style.display = "none";
        function apply(st){
            if (st === "site"){
                document.getElementById("lettre").style.display = "none";
                document.getElementById("story").style.display = "block";
                document.getElementById("titre").innerText=table["0"]["titre"];
                document.getElementById("context").innerText=table["0"]["context"];
                document.getElementById("op1").innerText=table["0"]["o1"]["text"];
                document.getElementById("op2").innerText=table["0"]["o2"]["text"];
                document.getElementById("op3").innerText=table["0"]["o3"]["text"];
                action= '0';
            }
            else if (st === "lettre"){
                document.getElementById("lettre").style.display = "block";
                document.getElementById("story").style.display = "none";
            }
            else if(st[0] === 'b'){
                document.getElementById("burnout").style.display = "block";
                document.getElementById("story").style.display = "none";
                document.getElementById("lettre").style.display = "none";
                document.getElementById("burndes").innerText = st.substring(1);
                action= '0';
            }
            else {
                document.getElementById("lettre").style.display = "none";
                document.getElementById("burnout").style.display = "none";
                document.getElementById("story").style.display = "block";
                document.getElementById("titre").innerText=table[st]["titre"];
                document.getElementById("context").innerText=table[st]["context"];
                document.getElementById("op1").innerText=table[st]["o1"]["text"];
                document.getElementById("op2").innerText=table[st]["o2"]["text"];
                document.getElementById("op3").innerText=table[st]["o3"]["text"];
            }
        }
        function valider(){
           let sel = document.getElementById("actSel");
           let opt = null;
           for (let o = 0; o < sel.options.length; o++) {
               opt = sel.options[o];
               if (opt.selected) {
                   console.log(opt.value);
                   action = table[action][opt.value]["next"];
                   apply(action);
                   break;
               }
           }
        }
        apply("0");
    </script>
</body>
</html>