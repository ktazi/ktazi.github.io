<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Visa Game</title>
    <style>
        body{
            background-color : white;
        }
        main{
            margin-left: 20%;
            margin-right: 20%;
            padding: 10px;
            background-color: black;
            border: 1px solid;
            margin-bottom: 20%;
        }
        select{
            font-family: "Courier New",serif;
            font-size: 20px;
        }
        option{
            font-size: 20px;
            font-family: "Courier New",serif;
        }
        table{
            margin-left: 5%;
            margin-right: 5%;
            padding: 10px;
        }
        .cont{
            text-align: center;
            margin-bottom: auto;
            margin-top: auto;
        }
        .cont_q{
            display: flex;
            text-align: center;
            flex-direction: column;
            margin-left: 30%;
            margin-right: 30%;
        }
        .quest{
            font-family: "Snell Roundhand",serif;
            font-size: 15px;
        }
        .manusc{
            font-family: "Snell Roundhand",serif;
            font-size: 15px;
            color:darkblue;
            background-color: bisque;
            padding: 5px;
        }
        .int_b{
            background-color: black;
            border: 1px solid black;
            color: white;
            font-family: "Courier New",serif;
            font-size: 15px;
            margin-bottom: 5px;
            margin-top: 5px;
        }
        .int_b:hover {
            background-color: white;
            border: 1px solid black;
            color: black;
            margin-bottom: 5px;
            margin-top: 5px;
            font-family: "Courier New",serif;
            font-size: 15px;
        }
        #story{
            margin-top: auto;
            margin-bottom: auto;
        }
        #logo{
            font-family: "Courier New",serif;
            font-size: 50px;
            color : black;
            margin-left: auto;
            margin-right: auto;
        }
        #desc{
            margin-left: 20%;
            margin-right: 20%;
            font-family: "Courier New",serif;
            font-size: 20px;
            padding: 10px;
            border: 1px solid;
        }
        #letter{
            font-family: "Snell Roundhand",serif;
            font-size: 20px;
            color:darkblue;
            background-color: bisque;
            width: 60%;
            height:40%;
            margin:10px;
        }
        #context{
            font-family: "Courier New",serif;
            font-size: 20px;
            color:white
        }
        #lettre_t{
            font-family: "Courier New",serif;
            font-size: 20px;
            color:white;

        }
        #titre{
            font-family: "Courier New",serif;
            font-size: 40px;
            color:white;
        }
        #burndes{
            font-family: "Courier New",serif;
            font-size: 20px;
            color:white;
        }
        #burntit{
            font-size: 50px;
            font-family: "Courier New",serif;
            color:white;
        }
        #test{
            border : solid black 1px;
            margin-right: 20%;
            margin-left: 20%;
            align-content: center;
            background-color: antiquewhite;
        }
        #test_des{
            font-family: "Courier New",serif;
            font-size: 30px;
            color:black;
        }
        #test_texte{
            margin-left: 20%;
            margin-right: 20%;
            font-family: "Courier New ",serif;
            font-size: 20px;
            color:black;
        }
        #inter{
            border : solid black 1px;
            margin-right: 20%;
            margin-left: 20%;
            align-content: center;
            background-color: black;
            color:white;
            font-family: "Courier New",serif;
        }
        #dialogue{
            margin: 3% 20%;
            border:solid white 1px;
        }
        #nom{
            position : absolute;
            margin-top: -10px;
            margin-left: 5px;
            background-color: black;
            padding-right: 10px;
            padding-left: 10px;
        }
        #dialogue2{
            margin: 3% 20%;
            border:solid white 1px;
        }
        #nom2{
            position : absolute;
            margin-top: -10px;
            margin-left: 5px;
            background-color: black;
            padding-right: 10px;
            padding-left: 10px;
        }
        #inter_titre{
            font-size: 35px;
        }
        #inventory{
            border : solid black 1px;
            margin-right: 20%;
            margin-left: 20%;
            align-content: center;
            background-color: white;
            color:black;
            font-family: "Courier New",serif;
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }
        #site{
            font-family: "Courier New",serif;
            color : white;
        }
        #amba{
            font-family: "Courier New",serif;
            color : white;
        }
        #di{
            color :black;
            font-family: "Courier New",serif;
            margin-right: 20%;
            margin-left: 20%;
        }
        #congrats{
            font-family: "Courier New",serif;
            margin-right: 20%;
            margin-left: 20%;
        }
        #ret{
            width: 100%;
            text-align: center;
            font-family: "Courier New",serif;
        }
    </style>
</head>
    <header>
        <div class="cont"><h1 id="logo">Game of Visa</h1></div>
        <div id="ret">
            <a href="Index.html" >Retour à l'avant propos</a>
        </div>
        <p id="desc">Après avoir travaillé durement pendant 30 ans en tant que secrétaire au sein d'un cabinet d'avocat,
            vous n'en pouvez plus de faire de la paperasse. Votre salut ? Un séjour sur l'ile paradisiaque de Onéchyan,
            absolument magnifique mais réputée quasi-inaccessible à cause de procédures administratives trop complexes.
            Triompherez vous de ce dictat bureaucrate ? Eviterez-vous le burnout ? C'est à vous de jouer.
        </p>

    </header>
    <div id="inventory" class="cont">
        <h2>Inventaire</h2>
        <table class="cont">
         <tr id="inv">
            <th>
                Objets :
            </th>
        </tr>
        <tr>
            <th>
                Budget :
            </th>
            <td id="money">
                100 euros
             </td>
            </tr>
        </table>
    </div>
    <main id="main">
        <div class="cont" id="story">
            <div class="cont"><h2 id="titre"></h2></div>
            <p id="context"></p>
            <div>
                <select name="Action" id="actSel">
                    <option id="op1" value="o1"></option>
                    <option id="op2" value="o2"></option>
                    <option id="op3" value="o3"></option>
                </select>
            </div>
            <button class = "int_b" onclick="valider()">Valider</button>
        </div>
        <div id = "site" class="cont">
            <p>Voici le site de l'ambassade : </p>
            <a href="Site.html">www.ambassadeDeOnechyan.oy</a>
            <button  class = "int_b" onclick="apply('0')">Fermer son ordinateur</button>
        </div>
        <div class="cont" id="lettre">
            <p id="lettre_t">Vous vous saisissez de votre plus joli papier d'écriture et entammez la rédaction de votre lettre</p>
            <textarea id="letter">Sa majesté l'Ambassadeur,</textarea>
            <div><button class="int_b" onclick="apply('bVotre lettre ne sera jamais retournée. Il ne vous reste plus qu\'à reprendre le travail');">Envoyer</button></div>
        </div>
        <div class="cont" id="burnout">
            <p id="burndes"></p>
            <h2 id="burntit">BURNOUT</h2>
            <button id="burnbut" class="int_b" onclick="apply('0');">Réessayer</button>
        </div>
        <div id="inter" class="cont">
            <h2 id="inter_titre">Interaction avec l'employé</h2>
            <p id="fonc_des">Description</p>
            <div>
                <button class="int_b" onclick="cons()">Demander conseil</button>
                <button class="int_b" onclick="formu()">Signer le formulaire</button>
                <button class="int_b" onclick="gossip()">Demander les derniers potins</button>
            </div>
            <button class="int_b" onclick="go_away()">Saluer et sortir</button>
            <div id="dialogue">
                <h3 id="nom">Nom</h3>
                <p id="bulle">Blablablabla</p>
            </div>
        </div>
        <div id="amba" class="cont">
            <h1>Interaction avec l'ambassadeur</h1>
            <div id="dialogue2">
                <h3 id="nom2">Ambassadeur de Onéchyan</h3>
                <p id="bulle2">Donnez moi vos formulaires et dans l'ordre s'il vous plait.</p>
            </div>
            <p id="final_sub">Jusqu'ici, vous avez rendu : </p>
            <div>
                <p><em>Vous vous munissez du formulaire </em></p>
                <select name="Formulaires" id="formsel"></select>
            </div>
            <button class="int_b" onclick="sub(document.getElementById('formsel').value)" >Lui tendre le formulaire</button>
            <button class="int_b" onclick="apply('bVous sortez, défait de vous être retrouvé désarmé face à temps de complexité administrative. Prochain arrêt : le boulot.');">Abandonner</button>
        </div>
    </main>
<div class="cont" id="test_cont">
    <h2 id="test_des">Examen écrit pour demandeur de visa</h2>
    <p id="di">Ambassadeur : Parfait, vos papiers sont en ordre. Derniere étape pour avoir votre visa, un petit test écrit. Tiens, vous paraissez surpris ? C'est une procédure <em>absolument obligatoire</em> et de la plus haute importance. Bon courage à vous.</p>
    <p id="test_texte">Veuillez répondre aux questions suivantes durant le temps imparti. Elles conditionneront énormément l'obtention de votre visa. Ne répondez qui si vous êtes certains de vous</p>
    <button id="testbut" onclick="beginTest()">Commencer</button>
    <form id="questionnaire">
        <div id="test">
            <div class="cont_q">
                <label class="quest" for="name">Noms, Prénoms</label><input type="text" id="name" placeholder="Ecrivez ici" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="pass" >Votre code de dossier</label><input type="text" id="pass" placeholder="ex. AAAAAAAAAAAA" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="bd">Date de naissance</label><input type="date" id="bd" class="manusc">
            </div>
            <div class="cont_q">
                <label class="quest" for="mbd">Date de naissance du Lord Supreme Mousseline 12</label><input type="date" id="mbd" class="manusc">
            </div>
            <div class="cont">
                <label class="quest" for="color">Couleur préférée du Lord Supreme Mousseline 12</label> <input type="color" id="color" class="manusc">
            </div>
            <div class="cont_q">
                <p class="quest">Parmi ces propositions, cochez ce que vous appréciez</p>
                <div><label class="quest" for="prop1">Les andives</label><input type="checkbox" id="prop1"></div>
                <div><label class="quest" for="prop2">Les sardines</label><input type="checkbox" id="prop2"></div>
                <div><label class="quest" for="prop3">Les sorbets a la peche</label><input type="checkbox" id="prop3"></div>
                <div> <label class="quest" for="prop4">Les sorbets a la myrtille</label><input type="checkbox" id="prop4"></div>
                <div><label class="quest" for="prop5">Les fondues au chocolat</label><input type="checkbox" id="prop5"></div>
                <div><label class="quest" for="prop6">Les guimauves</label><input type="checkbox" id="prop6"></div>
                <div><label class="quest" for="prop7">Le caviar</label><input type="checkbox" id="prop7"></div>
                <div><label class="quest" for="prop8">Les cotes de boeuf</label><input type="checkbox" id="prop8"></div>
                <div><label class="quest" for="prop9">Les haricots verts</label><input type="checkbox" id="prop9"></div>
                <div><label class="quest" for="prop10">Le lovacola</label><input type="checkbox" id="prop10"></div>
                <div><label class="quest" for="prop11">Le moubsi</label><input type="checkbox" id="prop11"></div>
            </div>
            <div class="cont_q">
                <p class="quest">Parmi ces propositions, cochez ce à quoi vous vous identifiez</p>
                <div><label class="quest" for="prop12">Terroriste</label><input type="checkbox" id="prop12"></div>
                <div><label class="quest" for="prop13">Black hat</label><input type="checkbox" id="prop13"></div>
                <div><label class="quest" for="prop14">Criminel</label><input type="checkbox" id="prop14"></div>
                <div><label class="quest" for="prop15">Fan du lord supreme Mousseline 12</label><input type="checkbox" id="prop15"></div>
                <div><label class="quest" for="prop16">Admirateur secret du lord supreme Mousseline 12</label><input type="checkbox" id="prop16"></div>
                <div><label class="quest" for="prop17">Défenseur des """""""droits de l'homme"""""""</label><input type="checkbox" id="prop17"></div>
            </div>
        </div>
    </form>
</div>
<div id = "congrats" class="cont">
    <p>L'ambassadeur jette un coup d'oeil sur votre test, vous regarde ébahi. 'C'est la premiere fois, dans toute ma carrière, que quelqu'un y arrive du premier coup comme vous. Vous êtes sur que vous ne venez pas d'une dimension parallèle ?' Sur quoi, il prend votre passeport et y appose un visa. Le lendemain, vous êtes à bord d'un avion en direction de Onéchyan, songeant qu'en ce moment, vous pourriez être enterré sous le travail.</p>
    <h1>Vous avez échappé au blackout !</h1>
    <img src="approved-rubber-stamps-vector.jpg" alt="approved">
</div>

    <script type="text/javascript">
        let action = "0";
        let emp = "blanc";
        let inv = [];
        let resp = [];
        let ans = ["jaune","blanc","orange","noir","noir","bleu"];
        let fo = true;
        /*document.getElementById("test_cont").style.display = "none";*/
        let table = {
            "0" : {
                  "titre" : "Que faire ?",
                "context" : "C'est bien beau d'avoir de l'ambition, mais maintenant, il faut agir. Vous pouvez toujours essayer de vous rendre sur leur SITE WEB complètement cassé. Autre option, vous pouvez tenter de leur écrire une LETTRE. Sinon, plus radical, de vous RENDRE SUR PLACE",
                "o1":{
                      "text":"Se rendre sur le site web",
                      "next":"site"
                },
                "o2":{
                    "text":"Ecrire une lettre",
                    "next":"lettre"
                },
                "o3":{
                    "text":"Vous rendre sur place",
                    "next":"1"
                }},
            "1" : {
                "titre" : "Vous rendre à l'Ambassade",
                "context" : "Vous prenez votre courage à deux mains et décidez de vous rendre sur place. Une fois arrivé devant la porte, un premier obstacle vous fait face : une queue interminable. Que faire en cette situation plus que désagréable ?",
                "o1":{
                    "text":"Faire la queue",
                    "next":"bAprès 43 heure d'attente, vous avez bougé de 5 centimètres. Epuisé, vous abandonnez."
                },
                "o2":{
                    "text":"Essayer de doubler des gens",
                    "next":"2"
                },
                "o3":{
                    "text":"Faire demi-tour",
                    "next":"0"
                }
            },
            "2" : {
                "titre" : "Essayer de doubler",
                "context" : "\"- Excusez moi ! pardon ! J'ai ma cousine germaine devant !\"\nNon sans peine, vous parvenez à vous frayer un chemin et atteignez la porte de l'établissement. Ici déjà, un premier garde vous fait face. Il vous regarde fixement et semble attendre de vous quelque chose.",
                "o1":{
                    "text":"Vous sortez votre passeport",
                    "next":"3"
                },
                "o2":{
                    "text":"Vous lui faite du baisemain",
                    "next":"bBien que flatté, le garde vous dis que ces attentions ne sont réservé qu'au grand et illustre Lord Suprème Mousseline.'Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous "
                },
                "o3":{
                    "text":"Vous lui filez 100 euros",
                    "next":"4"
                }
            },
            "3" : {
                "titre" : "Vous sortez votre passeport",
                "context" : "Le garde saisit votre passeport, l'ouvre à l'envers.\nIl semble être absorbé par la lecture d'une page vide.",
                "o1":{
                    "text":"Vous lui expliquez son erreur",
                    "next":"bLe garde vous dévisage et dit \n'Vous pensez vraiment que je suis débile ? Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous"
                },
                "o2":{
                    "text":"Vous lui faite du baisemain",
                    "next":"bBien que flatté, le garde vous dis que ces attentions ne sont réservé qu'au grand et illustre Lord Suprème Mousseline.'Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous "
                },
                "o3":{
                    "text":"Vous attendez patiemment",
                    "next":"5"
                }
            },
            "4":{
                "titre" : "Vous lui filez 100 euros",
                "context" : "'En temps normal, je vous aurais recalé, mais on est en période de crise.'Le garde prend votre billet et vous fait passer. Entré dans le lobby, il n'y a bien sûr aucune indication. Vous avez devant vous trois voies possibles, une grosse porte en bois orange, un escalier en colimasson montant à l'étage et un long couloir obscur",
                "o1":{
                    "text":"Porte",
                    "next":"4A"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"6"
                },
                "o3":{
                    "text":"Couloir",
                    "next":"7"
                }
            },
            "4A":{
                "titre" : "la porte orange",
                "context" : "Vous poussez la porte. Un employé, à l'air peureux, vous demande 'Formulaire 4ID04LD3-orange-34 ?'",
                "o1":{
                    "text":"Aller lui parler",
                    "next":"corange"
                },
                "o2":{
                    "text":"Euh le quoi ?",
                    "next":"4A2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "4A2":{
                "titre" : "le formulaire 4ID04LD3-orange-34",
                "context" : "'V-vous etes arrivé jusqu'ici sans savoir ? Oh b-bon sang vous etes cuit... Juste un des 5 formulaire d-dont vous avez besoin pour vos démarches... J-je peux pas vous en d-d-dire plus...'",
                "o1":{
                    "text":"Le remercier pour les clarifications et lui parler",
                    "next":"corange"
                },
                "o2":{
                    "text":"Je comprends rien ?",
                    "next":"4A2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "5":{
                "titre" : "Vous attendez patiemment",
                "context" : "Le garde continue à scuter votre passeport à une page qui ne semble pas être votre page d'identité",
                "o1":{
                    "text":"Patienter encore",
                    "next":"b'Il est tout cassé vot passeport, revenez avec des documents plus appropriés que ca'. Sans mot à dire, vos faites machine arrière et rentrez chez vous"
                },
                "o2":{
                    "text":"Lui expliquer son erreur",
                    "next":"bLe garde vous dévisage et dit \n'Vous pensez vraiment que je suis débile ? Vous êtes recalé d'office, pas besoin de vous embetter avec les tâches à l'intérieur'. Dépité, vous sortez de la file et rentrez chez vous"
                },
                "o3":{
                    "text":"Lui filer 100 euros",
                    "next":"4"
                }
            },
            "6":{
                "titre" : "A l'étage",
                "context" : "Vous êtes à présent à l'étage. En face de vous, deux portes, avec les inscription B2RF345R-jaune-90, 2EG5GEERFR-blanc-6. Vous ...",
                "o1":{
                    "text":"Redescendez",
                    "next":"8"
                },
                "o2":{
                    "text":"Allez vers la porte B2RF345R-jaune-90",
                    "next":"6A"
                },
                "o3":{
                    "text":"Allez vers la porte 2EG5GEERFR-blanc-6",
                    "next":"6B"
                }
            },
            "6A":{
                "titre" : "la salle B2RF345R-jaune-90",
                "context" : "Un employé, à l'air blasé, vous dit 'Formulaire B2RF345R-jaune-90 ?'",
                "o1":{
                    "text":"Aller lui parler",
                    "next":"cjaune"
                },
                "o2":{
                    "text":"Euh le quoi ?",
                    "next":"6A2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"6"
                }
            },
            "6A2":{
                "titre" : "le formulaire B2RF345R-jaune-90",
                "context" : "'C'est un des formulaires les plus importants pour toute demande administrative. 5 pages de paperasse sur du papier jaune. Pas plus complexe que ça.'",
                "o1":{
                    "text":"Le remercier pour les clarifications et lui parler",
                    "next":"cjaune"
                },
                "o2":{
                    "text":"J'ai pas compris le quoi ?",
                    "next":"6A2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"6"
                }
            },
            "6B":{
                "titre" : "la salle 2EG5GEERFR-blanc-6",
                "context" : "Un employé, à l'air enjoué, vous dit 'Formulaire 2EG5GEERFR-blanc-6 ?'",
                "o1":{
                    "text":"Oui s'il vous plait !",
                    "next":"cblanc"
                },
                "o2":{
                    "text":"Euh le quoi ?",
                    "next":"6B2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"6"
                }
            },
            "6B2":{
                "titre" : "le formulaire 2EG5GEERFR-blanc-6",
                "context" : "Ah ! c'est un des 5 formulaires à remplir pour finaliser une demande de visa ! absolument obligatoire pour espérer aller gouter au paradis. Le blanc, c'est juste une décharge de responsabilité. Vous savez, le Lord Suprème n'aime pas trop les problèmes diplomatiques alors ... Ouf j'en ai peut etre trop dit. Besoin d'autre chose ?'",
                "o1":{
                    "text":"Oui s'il vous plait !",
                    "next":"cblanc"
                },
                "o2":{
                    "text":"J'ai toujours pas compris ?",
                    "next":"6B2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"6"
                }
            },
            "7":{
                "titre" : "Dans le couloir",
                "context" : "Vous entrez dans un long et étroit couloir. Les murs sont d'un blanc sale, méritant une bonne couche de peinture. Après 5 minutes, vous arrivez au milieu du couloir. Vous avez une porte à votre droite et une à votre gauche.",
                "o1":{
                    "text":"Porte 43GTYH35HY-bleu-1",
                    "next":"7A"
                },
                "o2":{
                    "text":"Porte 653DE49DJS-noir-03",
                    "next":"7B"
                },
                "o3":{
                    "text":"Aller plus loin",
                    "next":"7C"
                }
            },
            "7A":{
                "titre" : "la salle 43GTYH35HY-bleu-1",
                "context" : "Un employé, à l'air triste, vous dit 'Formulaire 43GTYH35HY-bleu-1 ?'",
                "o1":{
                    "text":"Aller lui parler",
                    "next":"cbleu"
                },
                "o2":{
                    "text":"Euh le quoi ?",
                    "next":"7A2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "7A2":{
                "titre" : "le formulaire 43GTYH35HY-bleu-1",
                "context" : "'Voui... C'est juste un questionnaire de personnalité... La base pour obtenir son visa... Vous savez, quoi ...'",
                "o1":{
                    "text":"Le remercier et lui demander des détails",
                    "next":"cbleu"
                },
                "o2":{
                    "text":"J'ai toujours pas compris ?",
                    "next":"7B2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "7B":{
                "titre" : "la salle 653DE49DJS-noir-03",
                "context" : "Un employé, à l'air sérieux, vous demande 'Formulaire 653DE49DJS-noir-03 ?'",
                "o1":{
                    "text":"Aller lui parler",
                    "next":"cnoir"
                },
                "o2":{
                    "text":"Euh le quoi ?",
                    "next":"7B2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "7B2":{
                "titre" : "le formulaire 653DE49DJS-noir-03",
                "context" : "'Formulaire 653DE49DJS-noir-03. Ne vous occupez que de le remplir, le reste ne vous regarde pas. Autre chose ?'",
                "o1":{
                    "text":"Lui parler plus",
                    "next":"cnoir"
                },
                "o2":{
                    "text":"Plus d'explications ?",
                    "next":"7B2"
                },
                "o3":{
                    "text":"Pardon je ne suis pas au bon endroit",
                    "next":"8"
                }
            },
            "7C":{
                "titre" : "le fond de couloir",
                "context" : "Au fond du couloir se dresse une lourde porte en bois avec, dessus en écriture dorée 'Monsieur l'ambassadeur'. ",
                "o1":{
                    "text":"Revenir vers les deux salles d'avant",
                    "next":"7"
                },
                "o2":{
                    "text":"Toquer et entrer dans le bureau de l'ambassadeur",
                    "next":"amba"
                },
                "o3":{
                    "text":"Revenir dans le hall",
                    "next":"8"
                }
            },
            "8":{
                "titre" : "Dans le hall",
                "context" : "Vous êtes dans le hall. Trois choix s'offrent à vous, emprunter la porte orange, monter les escalier et accéder à l'étage, emprunter le couloir",
                "o1":{
                    "text":"Porte",
                    "next":"4A"
                },
                "o2":{
                    "text":"Escalier",
                    "next":"6"
                },
                "o3":{
                    "text":"Couloir",
                    "next":"7"
                }
            },
            "jaune":{
                "nom" : "Mario Giallo",
                "desc" : "Un employé qui a la quarantaine vous fait face. Ses cheveux commencent blanchir et il porte un vieux costume gris. Il a l'air fatigué, excédé et semble vouloir rentrer chez lui.",
                "form" : "jaune",
                "base" : "Faites vite, j'ai d'autres choses à faire",
                "gos" : "Vous ne pouvez pas faire confiance à tout le monde ici pour sûr, mais moi, je ne vous ferai jamais défaut",
                "cons" : "Retenez bien : vous devez présenter à l'ambassadeur le formulaire orange avant le blanc. Ah aussi, le premier formulaire à présenter est le orange.",
                "sig" : "Voila pour vous. Signez ici la et la.",
                "ret" : "6"
            },
            "blanc":{
                "nom" : "Giovanni Bianco",
                "desc" : "Un jeune employé vous sourit. Il a un appareil dentaire transparent et le regard pétillant. Il semble être excessivement motivé.",
                "form" : "blanc",
                "base" : "Comment puis-je vous etre utile mon bon monsieur ?",
                "gos" : "Oh je suis si heureux que vous me le demandiez ! Le moins que l'on puisse dire, c'est qu'ici, il y a des ripoux. Et croyez moi, mon voisin Giallo, au formulaire jaune, c'est le pire de tous. Il ment comme il respire ce filou.",
                "cons" : "Ah les démarches sont un peu dures a comprendre, je vous l'accorde. Alors le truc exotique ici, c'est que dans le protocole, c'est écrit que vous deviez présenter un des formulaires deux fois de suite. Juste un, le reste vous le présenterez une fois. Aussi je sais que vous devez présenter mon formulaire avant le noir. C'est tout ce que je sais, désolé j'ai un peu oublié cette partie-là",
                "sig" : "Pas de soucis ! Vous pouvez emprunter mon stylo si vous voulez.",
                "ret" : "6"
            },
            "bleu":{
                "nom" : "Timéo Azzuro",
                "desc" : "Un jeune homme larmoyant est assi au bureau. Il a le visage enfoui dans ses mains et le pauvre homme semble sangloter.",
                "form" : "bleu",
                "base" : "Qu'est ce que je peux faire pour vous ?",
                "gos" : "Ah la vie ici est monotone, triste. Tout est calme, mais cela pourrait l'être encore plus si mon collègue Bianco arrêtait de mentir toutes les deux minutes.",
                "cons" : "Alors ... ce que je peux vous dire, c'est que mon formulaire n'est pas le dernier à donner à l'ambassadeur, et qu'il vous faudra donner le blanc avant le jaune",
                "sig" : "Bien sûr ... prenez-en un sur la pile ici.",
                "ret" : "7"
            },
            "orange":{
                "nom" : "Lorenzo Arancio",
                "desc" : "Vous voyez un homme se cachant derrière une pile de papiers orange. Il semble trembler et éviter votre regard",
                "form" : "orange",
                "base" : "Oui ... ? C'est pourquoi ... ?",
                "gos" : "Si je parle trop ... je peux m'attirer des ennuis. Juste pour ... votre intérêt, ne faites confiance à absolument personne ici. Tout le monde ment.",
                "cons" : "M..Mon formulaire, vous devez le présentez deux fois. Et s..si vous avez la bonne combinaison, bah vous le saurez parce que les initiales forment un mot en français.",
                "sig" : "V..Voila un formulaire. Signez en bas et remplissez ces champs la.",
                "ret" : "8"
            },
            "noir":{
                "nom" : "Agostino Nero",
                "desc" : "Un homme à lunettes élegant est assis jambes croisées. Il tape sur une vieille machine à écrire, à la vitesse de l'éclair",
                "form" : "noir",
                "base" : "[tic tic tic] Oui c'est pourquoi ?",
                "gos" : "[tic tic] Ah c'est pas compliqué ici, 3 personnes, je ne citerai pas de nom par respect [tic tic tic] sont de gros mythomanes. De vous je me méfierais.",
                "cons" : "Mon formulaire, présentez le en avant dernier, deux fois suivies.",
                "sig" : "Affirmatif, prenez un exemplaire et un stylo si vous n'en avez pas",
                "ret" : "7"
            }
        };
        document.getElementById("lettre").style.display = "none";
        document.getElementById("burnout").style.display = "none";
        document.getElementById("inter").style.display = "none";
        document.getElementById("test_cont").style.display = "none";
        document.getElementById("congrats").style.display = "none";

        function apply(st){
            if (st === "site"){
                document.getElementById("lettre").style.display = "none";
                document.getElementById("inter").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("story").style.display = "none";
                document.getElementById("site").style.display = "block";
                document.getElementById("amba").style.display = "none";
                action = '0';
            }
            else if (st === "lettre"){
                document.getElementById("lettre").style.display = "block";
                document.getElementById("site").style.display = "none";
                document.getElementById("story").style.display = "none";
                document.getElementById("inter").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("amba").style.display = "block";
                document.getElementById("amba").style.display = "none";

            }
            else if (st === "amba"){
                document.getElementById("lettre").style.display = "none";
                document.getElementById("site").style.display = "none";
                document.getElementById("story").style.display = "none";
                document.getElementById("inter").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("amba").style.display = "block";
            }
            else if (st === "test"){
                document.getElementById("test_cont").style.display = "block";
                document.getElementById("main").style.display = "none";
                document.getElementById("questionnaire").style.display = "none";
            }
            else if(st[0] === 'b'){
                for(let i = 0; i < resp.length; i++)
                    resp.pop();
                clear_select();
                clear_inv();
                document.getElementById("final_sub").innerText = "Jusqu'ici, vous avez rendu : ";
                document.getElementById("letter").textContent = "Sa majesté l'Ambassadeur,";
                document.getElementById("burnout").style.display = "block";
                document.getElementById("story").style.display = "none";
                document.getElementById("site").style.display = "none";
                document.getElementById("lettre").style.display = "none";
                document.getElementById("inter").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("burndes").innerText = st.substring(1);
                document.getElementById("money").innerText = "100 euros";
                document.getElementById("amba").style.display = "none";
                action= '0';
            }
            else if(st[0] === 'c'){
;                document.getElementById("burnout").style.display = "none";
                document.getElementById("site").style.display = "none";
                document.getElementById("story").style.display = "none";
                document.getElementById("lettre").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("inter").style.display = "block";
                document.getElementById("amba").style.display = "none";
                document.getElementById("fonc_des").innerText = table[st.substring(1)]["desc"];
                document.getElementById("nom").innerText = table[st.substring(1)]["nom"];
                document.getElementById("bulle").innerText = table[st.substring(1)]["base"];
                emp = table[st.substring(1)]["form"];
                action = table[st.substring(1)]["ret"];
            }
            else {
                document.getElementById("lettre").style.display = "none";
                document.getElementById("burnout").style.display = "none";
                document.getElementById("test_cont").style.display = "none";
                document.getElementById("inter").style.display = "none";
                document.getElementById("site").style.display = "none";
                document.getElementById("amba").style.display = "none";
                document.getElementById("story").style.display = "block";
                document.getElementById("titre").innerText=table[st]["titre"];
                document.getElementById("context").innerText=table[st]["context"];
                document.getElementById("op1").innerText=table[st]["o1"]["text"];
                document.getElementById("op2").innerText=table[st]["o2"]["text"];
                document.getElementById("op3").innerText=table[st]["o3"]["text"];
                if(st === "4"){
                    document.getElementById("money").innerText = "0 euros";
                }
            }
        }
        function valider(){
           let sel = document.getElementById("actSel");
           let opt = null;
           for (let o = 0; o < sel.options.length; o++) {
               opt = sel.options[o];
               if (opt.selected) {
                   action = table[action][opt.value]["next"];
                   apply(action);
               }
           }
        }
        function cons(){
            document.getElementById("bulle").innerText = table[emp]["cons"];
        }
        function gossip(){
            document.getElementById("bulle").innerText = table[emp]["gos"];
        }
        function sub(form){
            if (fo){
                if(ans[resp.length] === form){
                    document.getElementById("bulle2").innerText = "Très bien. [tamponne] Donnez moi le suivant.";
                    resp.push(form);
                    let text = document.getElementById("final_sub").innerText + " "+ form+ " ";
                    document.getElementById("final_sub").innerText = text;
                    if(ans.length === resp.length){
                        apply("test");
                    }
                }
                else{
                    apply("bAmbassadeur : 'non ce n'est pas le bon document à me donner. Disparaissez de ma vue, j'ai mieux a faire.' Dépité, vous rentrez chez vous. Prochain arrêt : le boulot.");
                    for(let i = 0; i < resp.length; i++)
                        resp.pop();
                    document.getElementById("final_sub").innerText = "Jusqu'ici, vous avez rendu : ";
                }
            }
        }
        function formu(){
            document.getElementById("bulle").innerText = table[emp]["sig"];
            if(document.getElementById(emp) === null){
                let tab = document.getElementById("inv");
                let cell = document.createElement("td");
                cell.innerText = "formulaire " + emp;
                cell.setAttribute("id",emp);
                tab.appendChild(cell);
                inv.push(emp);
                let sel = document.getElementById("formsel");
                let opt = document.createElement("option");
                opt.value=emp;
                opt.id=emp;
                opt.innerText=emp;
                sel.appendChild(opt);
            }
        }
        function go_away(){
            apply(action);
        }
        function clear_select(){
            let sel = document.getElementById("formsel");
            let child = sel.lastElementChild;
            while(child){
                sel.removeChild(child);
                child = sel.lastElementChild;
            }
        }
        function clear_inv(){
            let tab = document.getElementById("inv");
            let child = tab.lastElementChild;
            while(child && child !== tab.firstElementChild){
                tab.removeChild(child);
                child = tab.lastElementChild;
            }
        }
        let timer = 240;
        let int1 = null;
        let int2 = null;
        function update_button(){
            document.getElementById("testbut").innerText = "Finir le test " + timer;
            timer = timer - 1;
            console.log("a");
        }
        function finish_test(){
            clearInterval(int1);
            clearInterval(int2);
            if(!checkResults()){
                document.getElementById("main").style.display="block";
                document.getElementById("testbut").setAttribute("onclick", "beginTest()");
                document.getElementById("testbut").innerText = "Commencer";
                apply("b'Je peux vous le dire de suite, dit l'ambassadeur, vous etes recalé. Je vois d'ici une mauvaise réponse. Il faut faire un sans faute, sans quoi je ne peux pas vous donner de visa.' Dépité et fatigué, vous rentrez chez vous. Vous vous écroulez.")
            }
            else{
                document.getElementById("congrats").style.display = "block";
                document.getElementById("test_cont").style.display = "none";
            }
        }
        function beginTest(){
            document.getElementById("test").style.display = "block";
            document.getElementById("testbut").setAttribute("onclick", "finish_test()");
            int1 = setInterval(update_button,1000);
            int2 = setInterval(finish_test, 240000);
            document.getElementById("questionnaire").style.display = "block";
        }
        function checkResults(){
            console.log( document.getElementById("mbd").value);
            return document.getElementById("pass").value === "A33R5FSD3" &&
                    document.getElementById("color").value === "#4169e1" &&
                    !document.getElementById("prop1").checked &&
                    !document.getElementById("prop2").checked &&
                    !document.getElementById("prop3").checked &&
                    !document.getElementById("prop6").checked &&
                    document.getElementById("prop7").checked &&
                    !document.getElementById("prop8").checked &&
                    !document.getElementById("prop9").checked &&
                    !document.getElementById("prop10").checked &&
                    document.getElementById("prop11").checked &&
                    !document.getElementById("prop12").checked &&
                    !document.getElementById("prop14").checked &&
                    document.getElementById("prop15").checked &&
                    document.getElementById("prop16").checked &&
                    document.getElementById("mbd").value === "1965-01-31"&&
                    !document.getElementById("prop17").checked;
        }
        apply("0");
    </script>
</body>
</html>